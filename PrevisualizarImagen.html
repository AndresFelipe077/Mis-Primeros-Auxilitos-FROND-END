<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Previsualizar imagen</title>
</head>

<body>
    <h1>Previsualización de imagen</h1>

    <img id="imgPreview" width="150px" height="150px">

    <form action="#" method="POST" enctype="multipart/form-data">

        <input type="file" accept="image/*" onchange="previewImage(event, '#imgPreview')">

        <button>Enviar formulario</button>
    </form>

    <script>
        function previewImage(event, querySelector) {

            //Recuperamos el input que desencadeno la acción
            const input = event.target;

            //Recuperamos la etiqueta img donde cargaremos la imagen
            $imgPreview = document.querySelector(querySelector);

            // Verificamos si existe una imagen seleccionada
            if (!input.files.length) return

            //Recuperamos el archivo subido
            file = input.files[0];

            //Creamos la url
            objectURL = URL.createObjectURL(file);

            //Modificamos el atributo src de la etiqueta img
            $imgPreview.src = objectURL;

        }
    </script>
</body>

</html>